{"ast":null,"code":"import { asapScheduler, interval, Subject } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../network/network-general/network-general.service\";\nimport * as i2 from \"../../network/service-general/network-service.service\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/button-toggle\";\nimport * as i7 from \"@angular/material/grid-list\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/card\";\nimport * as i10 from \"@angular/material/progress-bar\";\nimport * as i11 from \"@angular/material/chips\";\n\nfunction InfoPageComponent_mat_grid_tile_41_mat_card_1_mat_chip_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 34);\n    i0.ɵɵtext(1, \"default\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction InfoPageComponent_mat_grid_tile_41_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 19);\n    i0.ɵɵelementStart(1, \"mat-card-title\", 20);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵelementStart(3, \"i\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, InfoPageComponent_mat_grid_tile_41_mat_card_1_mat_chip_5_Template, 2, 0, \"mat-chip\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 23);\n    i0.ɵɵelementStart(7, \"i\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"i\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"mat-card-content\");\n    i0.ɵɵelementStart(12, \"div\", 24);\n    i0.ɵɵelementStart(13, \"p\", 25);\n    i0.ɵɵtext(14, \"Hardware member\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 26);\n    i0.ɵɵelementStart(16, \"span\", 27);\n    i0.ɵɵelementStart(17, \"i\", 28);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" / \");\n    i0.ɵɵelementStart(20, \"i\", 29);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"span\", 30);\n    i0.ɵɵtext(23, \" Online / Total \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"mat-progress-bar\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 24);\n    i0.ɵɵelementStart(26, \"p\", 25);\n    i0.ɵɵtext(27, \"Server member\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"span\", 26);\n    i0.ɵɵelementStart(29, \"span\", 27);\n    i0.ɵɵelementStart(30, \"i\", 28);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \" / \");\n    i0.ɵɵelementStart(33, \"i\", 29);\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"span\", 30);\n    i0.ɵɵtext(36, \" Online / Total \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"mat-progress-bar\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"mat-card-actions\");\n    i0.ɵɵelementStart(39, \"a\", 32);\n    i0.ɵɵtext(40, \"See Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"a\", 33);\n    i0.ɵɵtext(42, \"More\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const network_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(network_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", network_r1.isdefault);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(network_r1.type === 0 ? \"Peer-to-peer Network\" : \"Service Client Network\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(network_r1.linename);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.networkState[network_r1.networkid].router);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(network_r1.routernum);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.networkState[network_r1.networkid].router / network_r1.routernum * 100);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.networkState[network_r1.networkid].server);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(network_r1.servernum);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.networkState[network_r1.networkid].server / network_r1.servernum * 100);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/detail/\", network_r1.networkid, \"\");\n  }\n}\n\nfunction InfoPageComponent_mat_grid_tile_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\");\n    i0.ɵɵtemplate(1, InfoPageComponent_mat_grid_tile_41_mat_card_1_Template, 43, 11, \"mat-card\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const network_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.networkState[network_r1.networkid]);\n  }\n}\n\nexport let InfoPageComponent = /*#__PURE__*/(() => {\n  class InfoPageComponent {\n    constructor(networkGeneralService, networkService) {\n      this.networkGeneralService = networkGeneralService;\n      this.networkService = networkService;\n      this.networks = [];\n      this.accountInfo = {};\n      this.$networkState = new Subject();\n      this.$stateInterval = interval(5000, asapScheduler);\n      this.networkState = {};\n    }\n\n    ngAfterViewInit() {\n      this.networkService.getAccountInfo().subscribe(info => this.accountInfo = info);\n      this.networkGeneralService.listNetworks().pipe(tap(networks => this.networks = networks), tap(networks => {\n        networks.forEach(network => this.networkGeneralService.getNetworkUsed(network.networkid).pipe(tap(onlineState => this.$networkState.next(Object.assign({\n          networkId: network.networkid\n        }, onlineState)))).subscribe());\n      })).subscribe();\n      this.$networkState.subscribe(state => {\n        this.networkState[state.networkId] = {\n          client: state.client,\n          router: state.router,\n          server: state.server\n        };\n      });\n    }\n\n    ngOnDestroy() {\n      this.$networkState.complete();\n    }\n\n  }\n\n  InfoPageComponent.ɵfac = function InfoPageComponent_Factory(t) {\n    return new (t || InfoPageComponent)(i0.ɵɵdirectiveInject(i1.NetworkGeneralService), i0.ɵɵdirectiveInject(i2.NetworkServiceService));\n  };\n\n  InfoPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InfoPageComponent,\n    selectors: [[\"app-info\"]],\n    decls: 42,\n    vars: 6,\n    consts: [[1, \"title\"], [1, \"summary\"], [1, \"summary__left\"], [1, \"summary__left__expire\"], [\"mat-button\", \"\", \"routerLink\", \"/upgrade\"], [1, \"summary__right\"], [1, \"member-count\"], [1, \"used-count\"], [1, \"total-count\"], [1, \"network-list\"], [1, \"subtitle\"], [1, \"header\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"create-network-btn\"], [\"name\", \"viewStyle\", \"value\", \"card\"], [\"value\", \"card\"], [\"value\", \"list\"], [\"cols\", \"2\", \"rowHeight\", \"250px\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"network-item\", 4, \"ngIf\"], [1, \"network-item\"], [1, \"item-title\"], [1, \"network-name\"], [\"color\", \"primary\", \"disableRipple\", \"\", 4, \"ngIf\"], [1, \"network-desc\"], [1, \"counter\"], [1, \"counter__title\"], [1, \"counter__count\"], [1, \"counter__count__value\"], [1, \"counter__count__value__online\"], [1, \"counter__count__value__total\"], [1, \"counter__count__tag\"], [\"mode\", \"determinate\", 2, \"margin-top\", \"5px\", 3, \"value\"], [\"mat-button\", \"\", 3, \"routerLink\"], [\"mat-button\", \"\", \"routerLink\", \"/detail/1\"], [\"color\", \"primary\", \"disableRipple\", \"\"]],\n    template: function InfoPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Network Manage Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5, \"Dandelion Enterprise+ Edition\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"span\");\n        i0.ɵɵelementStart(7, \"i\", 3);\n        i0.ɵɵtext(8);\n        i0.ɵɵpipe(9, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"a\", 4);\n        i0.ɵɵtext(11, \"upgrade\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 5);\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14, \"Super member\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"span\", 6);\n        i0.ɵɵelementStart(16, \"span\", 7);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(18, \" / \");\n        i0.ɵɵelementStart(19, \"span\", 8);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"p\");\n        i0.ɵɵtext(22, \"Used / Total\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 9);\n        i0.ɵɵelementStart(24, \"div\", 10);\n        i0.ɵɵtext(25, \" Networking list \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 11);\n        i0.ɵɵelementStart(27, \"button\", 12);\n        i0.ɵɵelementStart(28, \"mat-icon\");\n        i0.ɵɵtext(29, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(30, \" Create a network \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"mat-button-toggle-group\", 13);\n        i0.ɵɵelementStart(32, \"mat-button-toggle\", 14);\n        i0.ɵɵelementStart(33, \"mat-icon\");\n        i0.ɵɵtext(34, \"view_module\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(35, \" Card \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"mat-button-toggle\", 15);\n        i0.ɵɵelementStart(37, \"mat-icon\");\n        i0.ɵɵtext(38, \"list\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(39, \" List \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"mat-grid-list\", 16);\n        i0.ɵɵtemplate(41, InfoPageComponent_mat_grid_tile_41_Template, 2, 1, \"mat-grid-tile\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\"Expiration time: \", i0.ɵɵpipeBind1(9, 4, ctx.accountInfo.expiredtime), \"\");\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(ctx.accountInfo.usedrouter);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.accountInfo.routernum);\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"ngForOf\", ctx.networks);\n      }\n    },\n    directives: [i3.MatAnchor, i4.RouterLinkWithHref, i3.MatButton, i5.MatIcon, i6.MatButtonToggleGroup, i6.MatButtonToggle, i7.MatGridList, i8.NgForOf, i7.MatGridTile, i8.NgIf, i9.MatCard, i9.MatCardTitle, i9.MatCardContent, i10.MatProgressBar, i9.MatCardActions, i11.MatChip],\n    pipes: [i8.DatePipe],\n    styles: [\".title[_ngcontent-%COMP%]{text-align:center;margin:20px 0 50px;font-size:2.5rem}.summary[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.summary[_ngcontent-%COMP%]   .summary__left[_ngcontent-%COMP%]{padding:0 0 0 4em;display:flex;flex-direction:column;justify-content:space-around}.summary[_ngcontent-%COMP%]   .summary__left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 20px}.summary[_ngcontent-%COMP%]   .summary__left[_ngcontent-%COMP%]   .summary__left__expire[_ngcontent-%COMP%]{margin:0 40px 0 0}.summary[_ngcontent-%COMP%]   .summary__right[_ngcontent-%COMP%]{padding:0 4em 0 0;display:flex;flex-direction:column}.summary[_ngcontent-%COMP%]   .summary__right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.summary[_ngcontent-%COMP%]   .summary__right[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:1.5rem;margin:20px 0}.summary[_ngcontent-%COMP%]   .summary__right[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .used-count[_ngcontent-%COMP%]{font-size:4rem}.summary[_ngcontent-%COMP%]   .summary__right[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-size:2rem}.network-list[_ngcontent-%COMP%]{margin:50px 20px 0}.network-list[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.3rem}.network-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;margin-bottom:10px}.network-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]{width:100%;font-size:1rem;padding-top:50px;margin:0 10px}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:30px}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{height:1rem;padding:3px}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:normal;font-size:1rem;font-weight:400}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .network-name[_ngcontent-%COMP%]{margin-right:20px;font-weight:700}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .network-desc[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]:not(:last-child){margin-right:20px}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .counter__count__value__online[_ngcontent-%COMP%]{font-size:2.5rem}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .counter__count__value__total[_ngcontent-%COMP%]{font-size:1.5rem}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .counter__count__tag[_ngcontent-%COMP%]{margin-left:10px}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.network-list[_ngcontent-%COMP%]   .network-item[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:last-child){margin-right:20px}\"]\n  });\n  return InfoPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}